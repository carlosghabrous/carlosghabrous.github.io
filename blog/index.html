---
layout: default
title: Why doesn't it work???
---
<section class="blog">
  <h2 class="section__title section__title--latest-posts">Latest Posts</h2>
  <ul class="latest-posts__list">

    {% for post in site.posts %}

      {% if forloop.index < 3 %}
        <li class="latest-posts__item">
          <p class="latest-posts__date">{{ post.date | date_to_string}}</p>
          <a class="latest-posts__link" href="{{ post.url }}">{{ post.title }}</a>

          <section class="section__subtitle--post">
            {{ post.excerpt }}
            {% if post.excerpt != post.content %}
              <a href="{{ site.baseurl }}{{ post.url }}">Read more</a>
            {% endif %}
          </section>

        </li>
      {% endif %}
    {% endfor %}

  </ul>

  <h2>Archive</h2>
  {% assign postsByYearMonth = site.posts | group_by_exp:"post", "post.date | date: '%Y %b'"  %}
  {% for yearMonth in postsByYearMonth %}
    <h3>{{ yearMonth.name }}</h3>
      <ul class="archive-list">
        {% for post in yearMonth.items %}
          <li><a href="{{ post.url }}">{{ post.title }}</a></li>
        {% endfor %}
      </ul>
  {% endfor %}
</section>
